let gulp,nunjucksRender,config;_817‍.w("gulp",[["default",["gulp"],function(v){gulp=v}]]);_817‍.w("gulp-nunjucks-render",[["default",["nunjucksRender"],function(v){nunjucksRender=v}]]);_817‍.w("../config",[["default",["config"],function(v){config=v}]]);



const { templates } = config;

gulp.task("templates", () => {
  return gulp
    .src(templates.pagesPath + "**/*.+(html|njk)")
    .pipe(
      nunjucksRender({
        path: [templates.templatesPath]
      })
    )
    .pipe(gulp.dest(templates.destPath));
});

gulp.task("templates-watch", () => {
  var pagesPath = templates.pagesPath + "**/*.+(html|njk)";
  var templatesPath = templates.templatesPath + "**/*.+(html|njk)";
  setTimeout(function() {
    _817‍.g.console.log("Watching Nunjucks Templates files started...".green);
  }, 0);
  return gulp.watch([pagesPath, templatesPath], function() {
    gulp.run("templates");
  });
});
